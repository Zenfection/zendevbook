# B√†i 14: File Handling

## 1.Gi·ªõi thi·ªáu

L·ªõp `File` n·∫±m trong g√≥i `java.io` cho ph√©p ta x·ª≠ l√Ω v·ªÅ file r·∫•t linh ho·∫°t : 

```java
import java.io.File;
File myFile = new File("kietdeptrai.txt");
```

C√°c ph∆∞∆°ng th·ª©c ph·ªï bi·∫øn c·ªßa `File` : 

| <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/07/30-12-29-55-icons8-settings.png">Ph∆∞∆°ng th·ª©c                         | <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/07/30-15-28-41-icons8-text_width.png">Ki·ªÉu d·ªØ li·ªáu | <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/07/30-12-30-07-icons8-handle_with_care.png">M√¥ t·∫£                                                                                                            |
| ----------------------------------- | ------------ | ---------------------------------------------------------------------------------------------------------------- |
| canRead()<br>canWrite()<br>exists() | Boolean      | Ki·ªÉm tra file c√≥ **ƒë·ªçc**¬†ƒë∆∞·ª£c kh√¥ng<br>Ki·ªÉm tra file c√≥ **ghi**¬†ƒë∆∞·ª£c kh√¥ng<br>KI·ªÉm tra file c√≥ **t·ªìn t·∫°i**¬†kh√¥ng |
| createNewFile()<br>delete()         | Boolean      | T·∫°o m·ªôt file tr·ªëng<br>Xo√° m·ªôt file                                                                               |
| write(x)                            |              | Ghi m·ªô file                                                                                                      |
| close()                             |              | ƒê√≥ng m·ªôt file                                                                                                    |
| getName()                           | String       | Tr·∫£ v·ªÅ t√™n c·ªßa file                                                                                              |
| getAbsolutePath()                   | String       | Tr·∫£ v·ªÅ ƒë∆∞·ªùng d·∫´n tuy·ªát ƒë·ªëi c·ªßa file                                                                              |
| length()                            | Long         | Tr·∫£ v·ªÅ k√≠ch th∆∞·ªõc t·ªáp (*t√≠nh b·∫±ng byte*)                                                                         |
| list()                              | String[]     | Tr·∫£ v·ªÅ m·∫£ng c√°c t·ªáp trong th∆∞ m·ª•c                                                                                |
| mkdir()                             | Boolean      | T·∫°o th∆∞ m·ª•c                                                                                                      |

## 2.T·∫°o v√† ghi file

### <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/07/30-13-27-22-icons8-add.png" width="25"> T·∫°o m·ªôt file

S·ª≠ d·ª•ng `createNewFile()` ƒë·ªÉ t·∫°o m·ªôt file.

> - Tr·∫£ v·ªÅ `true` n·∫øu t·∫°o th√†nh c√¥ng 
> - Tr·∫£ v·ªÅ `false` n·∫øu file t·ªìn t·∫°i

::: tip üí° M·∫∏O

B·∫°n n√™n s·ª≠ d·ª•ng chung v·ªõi `try..catch` nh∆∞ sau : 

```java
import java.io.File;

public class Demo{
    public static void main(String[] args) {
        try {
            File myFile = new File("kietdeptrai.txt");
            if(myFile.createNewFile()){
                System.out.println("File ƒë√£ t·∫°o : " + myFile.getName());
            }
            else{
                System.out.println("File ƒë√£ t·ªìn t·∫°i");
            }
        } catch (Exception e) {
            System.out.println("L·ªói t·∫°o file");
        }
    }
}
// Output : File ƒë√£ t·∫°o : kietdeptrai.txt
```
:::

<img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/02/20-21-32-59-A%CC%89nh%20chu%CC%A3p%20Ma%CC%80n%20hi%CC%80nh%202021-02-20%20lu%CC%81c%2021.32.55.png">

üî• Sau khi t·∫°o th√†nh c√¥ng c√°c b·∫°n c√≥ ngay file `kietdeptrai.txt`

::: warning ‚ö†Ô∏è L∆ØU √ù

M·∫∑c ƒë·ªãnh n√≥ s·∫Ω t·∫°o file ƒë√∫ng v·ªõi th∆∞ m·ª•c ta ƒëang code, n·∫øu ta mu·ªën t·∫°o ·ªü n∆°i kh√°c, h√£y d√πng : 

- K√Ω t·ª± `\\` cho `Windows` ‚û® *\Users\name\filename.txt*

- K√Ω t·ª± `/` cho `Linux` v√† `MacOS` ‚û® */Users/name/filename.txt*

```java
File myObj = new File("C:\\Users\\MyName\\filename.txt"); //D√†nh cho Windows
```
:::

### <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/07/30-15-33-42-icons8-typewriter_with_paper.png"> Ghi m·ªôt file 

S·ª≠ d·ª•ng `write()` ƒë·ªÉ ghi file

S·ª≠ d·ª•ng l·ªõp `FileWrite` c√πng v·ªõi ph∆∞∆°ng th·ª©c `write()` ta c√≥ th·ªÉ ghi ƒë∆∞·ª£c trong file

::: warning ‚ö†Ô∏è L∆ØU √ù

Sau khi ghi xong ta ph·∫£i ƒë√≥ng file l·∫°i b·∫±ng ph∆∞∆°ng th·ª©c `close()`
:::

```java
import java.io.FileWriter;

public class Demo{
    public static void main(String[] args) {
        try (FileWriter myWriter = new FileWriter("kietdeptrai.txt")){
            myWriter.write("T√¥i l√† Ki·ªát ƒë·∫πp trai ƒë√≥ nha !!!");
            myWriter.close();
            System.out.println("ƒê√£ ghi file th√†nh c√¥ng");
        } catch (Exception e) {
            System.out.println("X·∫£y ra l·ªói khi ghi file");
        }
    }
}
//Output : ƒê√£ ghi file th√†nh c√¥ng
```

- V√† sau ƒë√≥ m·ªü file `kietdeptrai.txt` : 

  <img src="https://raw.githubusercontent.com/Zenfection/Image/master/2021/02/20-21-56-45-A%CC%89nh%20chu%CC%A3p%20Ma%CC%80n%20hi%CC%80nh%202021-02-20%20lu%CC%81c%2021.56.41.png">

## 3.ƒê·ªçc file

### ƒê·ªçc n·ªôi dung file

S·ª≠ d·ª•ng l·ªõp `Scanner` ƒë·ªÉ ƒë·ªçc n·ªôi dung trong file

```java
import java.io.File;
import java.util.Scanner;

public class Demo{
    public static void main(String[] args) {
        try {
            File myFile = new File("kietdeptrai.txt");
            Scanner myReader = new Scanner(myFile);
            while (myReader.hasNextLine()) {
                String data = myReader.nextLine();
                System.out.println(data);
            }
        } catch (Exception e) {
            System.out.println("L·ªói x·∫£y ra khi ƒë·ªçc file");
        }
    }
}
//Output : T√¥i l√† Ki·ªát ƒë·∫πp trai ƒë√≥ nha !!!
```

::: warning ‚ö†Ô∏è L∆ØU √ù

H√†m sau ƒë√¢y : 

```java
while (myReader.hasNextLine()) {
     String data = myReader.nextLine();
     System.out.println(data);
}
```

B·ªüi v√¨ l·ªõp `Scanner` k·∫ø th·ª´a t·ª´ `Iterator` n√™n v·∫≠y, c·ªçi l·∫°i [Iterator](https://github.com/Zenfection/Java/blob/master/Java%20Advaced/8.Iterator.md)

N√≥ c√≥ nghƒ©a l√† `myReader` ƒë·ªçc t·ªõi cu·ªëi d√≤ng, Chu·ªói data s·∫Ω l∆∞u t·ª´ng d√≤ng trong file r·ªìi in ra ƒë·∫øn h·∫øt.
:::

### Hi·ªÉn th·ªã th√¥ng tin file

S·ª≠ d·ª•ng nh·ªØng ph∆∞∆°ng th·ª©c ƒë·ªÅ c·∫≠p ·ªü tr√™n nh∆∞ sau :

```java
import java.io.File;

public class Demo{
    public static void main(String[] args) {
        File myFile = new File("kietdeptrai.txt");
        if(myFile.exists()){
            System.out.println("T√™n file: " + myFile.getName());
            System.out.println("ƒê∆∞·ªùng d·∫´n file : " + myFile.getAbsolutePath());
            System.out.println("C√≥ th·ªÉ ghi : " + myFile.canWrite());
            System.out.println("C√≥ th·ªÉ ƒë·ªçc : " + myFile.canRead());
            System.out.println("K√≠ch th∆∞·ªõc file : " + myFile.length());
        }
        else{
            System.out.println("File kh√¥ng t·ªìn t·∫°i");
        }
    }
}
/*T√™n file: kietdeptrai.txt
  ƒê∆∞·ªùng d·∫´n file : /Users/zenfection/Desktop/Code/Java/kietdeptrai.txt
  C√≥ th·ªÉ ghi : true
  C√≥ th·ªÉ ƒë·ªçc : true
  K√≠ch th∆∞·ªõc file : 40              */
```

::: warning ‚ö†Ô∏è L∆ØU √ù

C√≥ nhi·ªÅu `class` s·∫µn trong `Java API` ƒë·ªÉ thao t√°c tr√™n file nh∆∞ : `FileReader`, `BufferedReader`, `Files`, `Scanner`, `FileInputStream`, `FileWriter`, `BufferedWritter`, `FileOutputStream`...
:::

==> B·∫°n h√£y t·ª± t√¨m hi·ªÉu v√† h·ªçc n√≥, b·ªüi v√¨ n√≥ kh√¥ng kh√≥ !!!

## 4.Xo√° file

S·ª≠ d·ª•ng ph∆∞∆°ng th·ª©c `delete()` ƒë·ªÉ xo√° file

```java
import java.io.File; 

public class DeleteFile {
  public static void main(String[] args) { 
    File myObj = new File("filename.txt"); 
    if (myObj.delete()) { 
      System.out.println("Xo√° th√†nh c√¥ng file " + myObj.getName());
    } else {
      System.out.println("Xo√° file th·∫•t b·∫°i.");
    } 
  } 
}
//Output : Xo√° th√†nh c√¥ng file filename.txt
```

::: tip C√≥ th·ªÉ d√πng c√°ch sau : 

```java
import java.io.File; 

public class DeleteFolder {
  public static void main(String[] args) { 
    File myObj = new File("C:\\Users\\MyName\\Test"); 
    if (myObj.delete()) { 
      System.out.println("ƒê√£ xo√° th∆∞ m·ª•c " + myObj.getName());
    } else {
      System.out.println("Xo√° th∆∞ m·ª•c th·∫•t b·∫°i");
    } 
  } 
}
//Output : ƒê√£ xo√° th∆∞ m·ª•c Test
```
:::

::: danger ‚ö†Ô∏è L∆ØU √ù

Nh∆∞ng ph·∫£i th∆∞ m·ª•c tr·ªëng m·ªõi xo√° ƒë∆∞·ª£c nh√© !!!
:::